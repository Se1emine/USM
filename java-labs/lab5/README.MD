# Отчет по лабораторной работе №4: Обобщённый класс Storage<T extends Number>

## Описание задачи

В рамках лабораторной работы был разработан обобщённый класс `Storage<T extends Number>`, способный хранить коллекцию числовых значений (например, `Integer`, `Double`, `Long` и т.д.) и вычислять среднее значение хранимых элементов.

## Цель работы

* Научиться использовать ограничение обобщённых типов `extends` в языке Java.
* Реализовать класс с параметризованным типом, допускающим только числовые классы.
* Разработать метод для вычисления среднего (арифметического) значения элементов коллекции.

## Реализация

### Класс Storage

```java
import java.util.ArrayList;
import java.util.List;

public class Storage<T extends Number> {
    private final List<T> items = new ArrayList<>();

    /**
     * Добавляет элемент в хранилище.
     * @param item объект числового типа
     */
    public void add(T item) {
        items.add(item);
    }

    /**
     * Вычисляет среднее значение всех добавленных чисел.
     * @return среднее значение в виде double; если нет элементов, возвращает 0.0
     */
    public double average() {
        if (items.isEmpty()) {
            return 0.0;
        }

        double sum = 0.0;
        for (T item : items) {
            sum += item.doubleValue();
        }
        return sum / items.size();
    }

    /**
     * Возвращает количество элементов в хранилище.
     * @return размер списка items
     */
    public int size() {
        return items.size();
    }
}
```

### Пояснения к коду

1. **Ограничение типа `T extends Number`**

   * Обеспечивает при компиляции добавление в хранилище только объектов, являющихся подклассами `Number`.
2. **Хранение элементов**

   * Используется `List<T>` для динамического хранения переданных значений.
3. **Метод `average()`**

   * Для суммирования всех элементов вызывается метод `doubleValue()`, определённый в классе `Number`.
   * При отсутствии элементов возвращается `0.0`, во избежание деления на ноль.

## Пример использования

```java
public class Main {
    public static void main(String[] args) {
        Storage<Integer> intStorage = new Storage<>();
        intStorage.add(10);
        intStorage.add(20);
        intStorage.add(30);
        System.out.printf("Среднее (Integer): %.2f%n", intStorage.average()); // 20.00

        Storage<Double> doubleStorage = new Storage<>();
        doubleStorage.add(5.5);
        doubleStorage.add(7.25);
        System.out.printf("Среднее (Double): %.3f%n", doubleStorage.average()); // 6.375
    }
}
```

## Результаты

При тестировании класса были получены корректные средние значения для различных числовых типов:

* Для `Integer`: добавлены значения 10, 20, 30 → среднее = 20.00
* Для `Double`: добавлены значения 5.5, 7.25 → среднее = 6.375

## Выводы

* Ограничение обобщённых типов `T extends Number` позволяет гибко работать с наборами числовых данных разных типов.
* Использование метода `doubleValue()` из базового класса `Number` упрощает унифицированное суммирование.
* Подобный подход можно расширить, добавив методы для вычисления других статистических показателей (медиана, дисперсия, стандартное отклонение и т.д.).

